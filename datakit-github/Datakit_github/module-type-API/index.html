<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>API (datakit-github.Datakit_github.API)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="generator" content="doc-ock-html v1.0.0-1-g1fc9bf0"/></head><body><nav id="top"><a href="../index.html">Up</a> &mdash; <span class="package">package <a href="../../index.html">datakit-github</a></span></nav><header><h1><span class="keyword">Module type</span> <span class="module-path">Datakit_github.API</span></h1></header><div class="doc"><p>Signature for the GitHub API.</p></div><div class="spec type" id="type-token"><a href="#type-token" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>token</code><code></code><code></code></div><div class="doc"><h2>API tokens</h2><p>The type for API tokens.</p></div></div><div class="spec type" id="type-result"><a href="#type-result" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>'a result</code><code><span class="keyword"> = </span>(<span class="type-var">'a</span>, string) Result.result Lwt.t</code><code></code></div><div class="doc"><p>The type for results.</p></div></div><div class="spec val" id="val-user_exists"><a href="#val-user_exists" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>user_exists : <a href="index.html#type-token">token</a> <span class="keyword">&#8209;&gt;</span> user:<a href="../User/index.html#type-t">User.t</a> <span class="keyword">&#8209;&gt;</span> bool <a href="index.html#type-result">result</a></code></div><div class="doc"><p><code class="code">exist_user t ~user</code> is true iff <code class="code">user</code> exists.</p></div></div><div class="spec val" id="val-repo_exists"><a href="#val-repo_exists" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>repo_exists : <a href="index.html#type-token">token</a> <span class="keyword">&#8209;&gt;</span> <a href="../Repo/index.html#type-t">Repo.t</a> <span class="keyword">&#8209;&gt;</span> bool <a href="index.html#type-result">result</a></code></div><div class="doc"><p><code class="code">exists_repo t r</code> is true iff the repository <code class="code">r</code> exists.</p></div></div><div class="spec val" id="val-repos"><a href="#val-repos" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>repos : <a href="index.html#type-token">token</a> <span class="keyword">&#8209;&gt;</span> user:<a href="../User/index.html#type-t">User.t</a> <span class="keyword">&#8209;&gt;</span> <a href="../Repo/index.html#type-t">Repo.t</a> list <a href="index.html#type-result">result</a></code></div><div class="doc"><p><code class="code">repos t ~user</code> is the list of repositories owned by user
<code class="code">user</code>.</p></div></div><div class="spec val" id="val-status"><a href="#val-status" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>status : <a href="index.html#type-token">token</a> <span class="keyword">&#8209;&gt;</span> <a href="../Commit/index.html#type-t">Commit.t</a> <span class="keyword">&#8209;&gt;</span> <a href="../Status/index.html#type-t">Status.t</a> list <a href="index.html#type-result">result</a></code></div><div class="doc"><p><code class="code">status t c</code> returns the list of status attached to the commit
<code class="code">c</code>.</p></div></div><div class="spec val" id="val-set_status"><a href="#val-set_status" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>set_status : <a href="index.html#type-token">token</a> <span class="keyword">&#8209;&gt;</span> <a href="../Status/index.html#type-t">Status.t</a> <span class="keyword">&#8209;&gt;</span> unit <a href="index.html#type-result">result</a></code></div><div class="doc"><p><code class="code">set_status t s</code> updates <code class="code">Status.commit s</code>'s status with <code class="code">s</code>.</p></div></div><div class="spec val" id="val-set_ref"><a href="#val-set_ref" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>set_ref : <a href="index.html#type-token">token</a> <span class="keyword">&#8209;&gt;</span> <a href="../Ref/index.html#type-t">Ref.t</a> <span class="keyword">&#8209;&gt;</span> unit <a href="index.html#type-result">result</a></code></div><div class="doc"><p><code class="code">set_ref t r</code> updates the reference named <code class="code">Ref.name r</code> with
<code class="code">r</code>.</p></div></div><div class="spec val" id="val-remove_ref"><a href="#val-remove_ref" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>remove_ref : <a href="index.html#type-token">token</a> <span class="keyword">&#8209;&gt;</span> <a href="../Repo/index.html#type-t">Repo.t</a> <span class="keyword">&#8209;&gt;</span> string list <span class="keyword">&#8209;&gt;</span> unit <a href="index.html#type-result">result</a></code></div><div class="doc"><p><code class="code">remove_ref t n</code> removes the reference named <code class="code">n</code>.</p></div></div><div class="spec val" id="val-set_pr"><a href="#val-set_pr" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>set_pr : <a href="index.html#type-token">token</a> <span class="keyword">&#8209;&gt;</span> <a href="../PR/index.html#type-t">PR.t</a> <span class="keyword">&#8209;&gt;</span> unit <a href="index.html#type-result">result</a></code></div><div class="doc"><p><code class="code">set_pr t pr</code> updates the PR number <code class="code">PR.number pr</code> with <code class="code">pr</code>.</p></div></div><div class="spec val" id="val-prs"><a href="#val-prs" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>prs : <a href="index.html#type-token">token</a> <span class="keyword">&#8209;&gt;</span> <a href="../Repo/index.html#type-t">Repo.t</a> <span class="keyword">&#8209;&gt;</span> <a href="../PR/index.html#type-t">PR.t</a> list <a href="index.html#type-result">result</a></code></div><div class="doc"><p><code class="code">prs t r</code> is the list of open pull-requests for the repo <code class="code">r</code>.</p></div></div><div class="spec val" id="val-pr"><a href="#val-pr" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>pr : <a href="index.html#type-token">token</a> <span class="keyword">&#8209;&gt;</span> <a href="../PR/index.html#type-id">PR.id</a> <span class="keyword">&#8209;&gt;</span> <a href="../PR/index.html#type-t">PR.t</a> option <a href="index.html#type-result">result</a></code></div><div class="doc"><p><code class="code">pr t id</code> is the contents of the pull request whose ID Is
<code class="code">id</code>.</p></div></div><div class="spec val" id="val-refs"><a href="#val-refs" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>refs : <a href="index.html#type-token">token</a> <span class="keyword">&#8209;&gt;</span> <a href="../Repo/index.html#type-t">Repo.t</a> <span class="keyword">&#8209;&gt;</span> <a href="../Ref/index.html#type-t">Ref.t</a> list <a href="index.html#type-result">result</a></code></div><div class="doc"><p><code class="code">refs t r</code> is the list of references for the the repo <code class="code">r</code>.</p></div></div><div class="spec val" id="val-ref"><a href="#val-ref" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>ref : <a href="index.html#type-token">token</a> <span class="keyword">&#8209;&gt;</span> <a href="../Ref/index.html#type-id">Ref.id</a> <span class="keyword">&#8209;&gt;</span> <a href="../Ref/index.html#type-t">Ref.t</a> option <a href="index.html#type-result">result</a></code></div><div class="doc"><p><code class="code">ref t id</code> is the Git reference whose ID is <code class="code">id</code>.</p></div></div><div class="spec val" id="val-events"><a href="#val-events" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>events : <a href="index.html#type-token">token</a> <span class="keyword">&#8209;&gt;</span> <a href="../Repo/index.html#type-t">Repo.t</a> <span class="keyword">&#8209;&gt;</span> <a href="../Event/index.html#type-t">Event.t</a> list <a href="index.html#type-result">result</a></code></div><div class="doc"><p><code class="code">event t r</code> is the list of events attached to the repository
<code class="code">r</code>. Note: can be slow/costly if multiple pages of events.</p></div></div><div class="spec module" id="module-Webhook"><a href="#module-Webhook" class="anchor"></a><div class="def module"><code><span class="keyword">module </span><a href="Webhook/index.html">Webhook</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="doc"></div></div></body></html>