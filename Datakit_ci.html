<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<link rel="Start" href="index.html">
<link rel="previous" href="Datakit_github_vfs.html">
<link rel="Up" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Index of module types" rel=Appendix href="index_module_types.html">
<link title="Vfs" rel="Chapter" href="Vfs.html">
<link title="Fs9p" rel="Chapter" href="Fs9p.html">
<link title="Datakit_path" rel="Chapter" href="Datakit_path.html">
<link title="Datakit_S" rel="Chapter" href="Datakit_S.html">
<link title="Datakit_client_9p" rel="Chapter" href="Datakit_client_9p.html">
<link title="Ivfs" rel="Chapter" href="Ivfs.html">
<link title="Ivfs_tree" rel="Chapter" href="Ivfs_tree.html">
<link title="Ivfs_remote" rel="Chapter" href="Ivfs_remote.html">
<link title="Ivfs_blob" rel="Chapter" href="Ivfs_blob.html">
<link title="Datakit_github" rel="Chapter" href="Datakit_github.html">
<link title="Datakit_github_api" rel="Chapter" href="Datakit_github_api.html">
<link title="Datakit_github_vfs" rel="Chapter" href="Datakit_github_vfs.html">
<link title="Datakit_ci" rel="Chapter" href="Datakit_ci.html"><link title="Core" rel="Section" href="#core">
<link title="Extensions" rel="Section" href="#extensions">
<link title="Cache" rel="Section" href="#cache">
<link title="Utils" rel="Section" href="#1_Utils">
<title>Datakit_ci</title>
</head>
<body>
<div class="navbar"><a class="pre" href="Datakit_github_vfs.html" title="Datakit_github_vfs">Previous</a>
&nbsp;<a class="up" href="index.html" title="Index">Up</a>
&nbsp;</div>
<h1>Module <a href="type_Datakit_ci.html">Datakit_ci</a></h1>

<pre><span class="keyword">module</span> Datakit_ci: <code class="code"><span class="keyword">sig</span></code> <a href="Datakit_ci.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><div class="info module top">
Datakit CI
<p>

    <code class="code"><span class="constructor">Datakit_ci</span></code> is a library to describe reproducible, cachable and
    distributed computations. The library is specialiazed to handle
    build pipelines, where computations can take time, and where
    seeing the live outputs of the computation is as useful as the
    final step (think of live-logs of long-running builds).
<p>

    The <a href="Datakit_ci.html#core"><i>Core</i></a> of <code class="code"><span class="constructor">Datakit_ci</span></code> is the <a href="Datakit_ci.Job.html"><code class="code"><span class="constructor">Datakit_ci</span>.<span class="constructor">Job</span></code></a> module used to define
    long-running computation jobs, with an attached, individual
    <a href="Datakit_ci.Output.html">output</a> (which can be live). A project
    configuration tied together a collection of job
    description and a simple description for the web
    interface, whose access is granted using ACLs.
<p>

    TODO.<br>
</div>
<hr width="100%">
<br>
<h1 id="core">Core</h1><br>

<pre><span class="keyword">module</span> <a href="Datakit_ci.DK.html">DK</a>: <code class="type"><a href="Datakit_S.CLIENT.html">Datakit_S.CLIENT</a></code><code class="type">  with type error = Protocol_9p_error.error</code></pre><div class="info">
Datakit client library.
</div>

<pre><span class="keyword">module</span> <a href="Datakit_ci.Live_log.html">Live_log</a>: <code class="code"><span class="keyword">sig</span></code> <a href="Datakit_ci.Live_log.html">..</a> <code class="code"><span class="keyword">end</span></code></pre>
<pre><span class="keyword">module</span> <a href="Datakit_ci.Output.html">Output</a>: <code class="code"><span class="keyword">sig</span></code> <a href="Datakit_ci.Output.html">..</a> <code class="code"><span class="keyword">end</span></code></pre>
<pre><code><span id="TYPEstatus"><span class="keyword">type</span> <code class="type">'a</code> status</span> = {</code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTstatus.result">result</span>&nbsp;: <code class="type">('a, [ `Failure of string | `Pending of string * unit Lwt.t ])<br>       Pervasives.result</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTstatus.output">output</span>&nbsp;: <code class="type"><a href="Datakit_ci.Output.html#TYPEt">Output.t</a></code>;</code></td>

</tr></table>
}

<div class="info ">
The type for job status. It is a mix between the usual error
    monad, but where we also keep a local log for every
    computation. Morever, computation can be long-running, so there is
    a new <code class="code"><span class="keywordsign">`</span><span class="constructor">Pending</span></code> state and a continuation to run when the job
    complete.<br>
</div>


<pre><span class="keyword">module</span> <a href="Datakit_ci.Target.html">Target</a>: <code class="code"><span class="keyword">sig</span></code> <a href="Datakit_ci.Target.html">..</a> <code class="code"><span class="keyword">end</span></code></pre>
<pre><span class="keyword">module</span> <a href="Datakit_ci.Job.html">Job</a>: <code class="code"><span class="keyword">sig</span></code> <a href="Datakit_ci.Job.html">..</a> <code class="code"><span class="keyword">end</span></code></pre>
<pre><span class="keyword">module</span> <a href="Datakit_ci.ACL.html">ACL</a>: <code class="code"><span class="keyword">sig</span></code> <a href="Datakit_ci.ACL.html">..</a> <code class="code"><span class="keyword">end</span></code></pre>
<pre><span class="keyword">module</span> <a href="Datakit_ci.Web.html">Web</a>: <code class="code"><span class="keyword">sig</span></code> <a href="Datakit_ci.Web.html">..</a> <code class="code"><span class="keyword">end</span></code></pre>
<pre><span class="keyword">module</span> <a href="Datakit_ci.Config.html">Config</a>: <code class="code"><span class="keyword">sig</span></code> <a href="Datakit_ci.Config.html">..</a> <code class="code"><span class="keyword">end</span></code></pre>
<pre><span id="VALrun"><span class="keyword">val</span> run</span> : <code class="type">?info:Cmdliner.Term.info -> <a href="Datakit_ci.Config.html#TYPEt">Config.t</a> Cmdliner.Term.t -> unit</code></pre><div class="info ">
<code class="code">run ?info config</code> runs DataKitCI. <code class="code">info</code> defaults to a term that
    describes the binary as <code class="code"><span class="constructor">DataKitCI</span></code>, but does not include any of
    the other metadata such as versioning. Call <code class="code"><span class="constructor">Cmdliner</span>.<span class="constructor">Term</span>.info</code>
    directly to obtain an <code class="code">info</code> value that exposes all this extra
    data on the resulting command line.<br>
</div>

<pre><span id="VALlogs"><span class="keyword">val</span> logs</span> : <code class="type"><a href="Datakit_ci.Live_log.html#TYPEmanager">Live_log.manager</a></code></pre><div class="info ">
The singleton log manager.<br>
</div>
<br>
<h1 id="extensions">Extensions</h1><br>

<pre><span class="keyword">module</span> <a href="Datakit_ci.Process.html">Process</a>: <code class="code"><span class="keyword">sig</span></code> <a href="Datakit_ci.Process.html">..</a> <code class="code"><span class="keyword">end</span></code></pre>
<pre><span class="keyword">module</span> <a href="Datakit_ci.Monitored_pool.html">Monitored_pool</a>: <code class="code"><span class="keyword">sig</span></code> <a href="Datakit_ci.Monitored_pool.html">..</a> <code class="code"><span class="keyword">end</span></code></pre>
<pre><span class="keyword">module</span> <a href="Datakit_ci.Git.html">Git</a>: <code class="code"><span class="keyword">sig</span></code> <a href="Datakit_ci.Git.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><br>
<h1 id="cache">Cache</h1><br>

<pre><span class="keyword">module type</span> <a href="Datakit_ci.BUILDER.html">BUILDER</a> = <code class="code"><span class="keyword">sig</span></code> <a href="Datakit_ci.BUILDER.html">..</a> <code class="code"><span class="keyword">end</span></code></pre>
<pre><span class="keyword">module</span> <a href="Datakit_ci.Cache.html">Cache</a>: <code class="code"><span class="keyword">sig</span></code> <a href="Datakit_ci.Cache.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><br>
<h1 id="1_Utils">Utils</h1>
<p>

    This should probably be replaced by something else or not be
    exposed at all.<br>

<pre><span class="keyword">module</span> <a href="Datakit_ci.Utils.html">Utils</a>: <code class="code"><span class="keyword">sig</span></code> <a href="Datakit_ci.Utils.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><br>
/ *<br>

<pre><span class="keyword">module</span> <a href="Datakit_ci.Private.html">Private</a>: <code class="code"><span class="keyword">sig</span></code> <a href="Datakit_ci.Private.html">..</a> <code class="code"><span class="keyword">end</span></code></pre></body></html>